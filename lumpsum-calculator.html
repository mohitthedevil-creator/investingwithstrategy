<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lumpsum Calculator | One-Time Investment Returns & Future Value</title>
    <meta name="description" content="Free Lumpsum Calculator for India. Calculate future value, total gains and compound growth on a one-time investment. See charts and FAQs." />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://financialcalc.ai/lumpsum-calculator" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Lumpsum Calculator | One-Time Investment Returns & Future Value" />
    <meta property="og:description" content="Free Lumpsum Calculator for India. Calculate future value, total gains and compound growth on a one-time investment." />
    <meta property="og:url" content="https://financialcalc.ai/lumpsum-calculator" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Is lumpsum investment risky?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Lumpsum investments are more sensitive to market timing, but risk reduces significantly over long time horizons."
          }
        },
        {
          "@type": "Question",
          "name": "Is this calculator accurate?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator uses standard compound interest formulas and provides realistic projections based on your inputs."
          }
        },
        {
          "@type": "Question",
          "name": "Does this calculator include tax calculations?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. Taxes are not included and should be considered separately based on investment type."
          }
        },
        {
          "@type": "Question",
          "name": "Can I rely on this calculator for financial advice?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. This tool is for planning and educational purposes only."
          }
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://financialcalc.ai/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Lumpsum Calculator",
          "item": "https://financialcalc.ai/lumpsum-calculator"
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Lumpsum Calculator",
      "applicationCategory": "FinanceApplication",
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>
    <style>
      /* Header Styling */
      header {
        background: var(--card, white);
        border-bottom: 1px solid var(--border, #d1e7e4);
        padding: 16px 0;
        position: sticky;
        top: 0;
        z-index: 100;
      }
      
      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 clamp(16px, 3vw, 40px);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .logo {
        font-weight: 700;
        font-size: 20px;
        text-decoration: none;
        color: var(--ink, #0f2f2e);
      }
      
      .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--ink, #0f2f2e);
      }
      
      nav {
        display: flex;
      }
      
      .nav-links {
        display: flex;
        gap: 32px;
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .nav-links a {
        text-decoration: none;
        color: var(--ink, #0f2f2e);
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s ease;
      }
      
      .nav-links a:hover {
        color: var(--brand, #0d9488);
      }
      
      @media (max-width: 700px) {
        .mobile-menu-toggle {
          display: block;
        }
        
        nav {
          display: none;
        }
        
        nav.active {
          display: flex;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          flex-direction: column;
          background: var(--card, white);
          border-bottom: 1px solid var(--border, #d1e7e4);
          padding: 16px;
        }
        
        .nav-links {
          flex-direction: column;
          gap: 12px;
        }
      }

      /* Ensure min-width for main cards and limit grid gap to 10px for wide screens */
      @media (min-width: 1000px) {
        section[style*="grid-template-columns"] {
          gap: 10px !important;
        }
        .main-card-min {
          min-width: 420px;
        }
        .results-card-min {
          min-width: 400px;
        }
      }
      :root {
        --section-gap: clamp(16px, 3vw, 40px);
        --card-padding: clamp(10px, 3vw, 32px);
        --section-padding: clamp(8px, 2vw, 24px);
      }
      /* Responsive layout improvements */
      @media (max-width: 1200px) {
        .wrap {
          padding: 24px 2vw 60px 2vw;
        }
        .grid,
        section[style*="grid-template-columns"] {
          grid-template-columns: 1fr !important;
        }
      }

      @media (max-width: 900px) {
        .wrap {
          padding: 12px 1vw 30px 1vw;
        }
        .grid,
        section[style*="grid-template-columns"] {
          grid-template-columns: 1fr !important;
        }
        .card {
          padding: 12px 6px !important;
        }
        .results, .chart, .legend, .foot {
          font-size: 13px;
        }
        h1, h2 {
          font-size: 1.1rem !important;
        }
        table {
          font-size: 12px;
        }
      }

      @media (max-width: 700px) {
        .wrap {
          padding: 4px 0 10px 0;
        }
        .hero {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }
        .card {
          padding: 8px 2px !important;
          border-radius: 10px;
        }
        .results, .chart, .legend, .foot {
          font-size: 11px;
        }
        h1, h2 {
          font-size: 1rem !important;
        }
        table {
          font-size: 10px;
        }
        section[style*="grid-template-columns"], .grid {
          grid-template-columns: 1fr !important;
        }
        section[style*="grid-template-columns"] > div,
        .grid > div {
          min-width: 0;
          width: 100% !important;
          max-width: 100vw;
        }
      }

      :root {
        --bg: #f0fdf9;
        --ink: #0f2f2e;
        --muted: #64748b;
        --brand: #0d9488;
        --brand-2: #0f766e;
        --accent: #5eead4;
        --card: #ffffff;
        --border: #d1e7e4;
        --shadow: 0 12px 32px rgba(13, 148, 136, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, sans-serif;
        color: var(--ink);
        background: var(--bg);
        min-height: 100vh;
      }

      .wrap {
        width: 100%;
        padding: var(--section-gap);
      }

      header {
        margin-bottom: 18px;
      }

      .logo {
        font-weight: 700;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--brand);
      }

      .hero {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: 20px;
        flex-wrap: wrap;
      }

      h1 {
        margin: 0;
        font-size: clamp(26px, 3.4vw, 34px);
        line-height: 1.2;
        font-weight: 600;
      }

      .sub {
        color: var(--muted);
        max-width: 560px;
        margin: 8px 0 0;
        font-size: 14px;
        line-height: 1.5;
      }

      .pill {
        background: #eafaf5;
        color: #129a79;
        padding: 4px 12px;
        border-radius: 999px;
        font-weight: 600;
        font-size: 12px;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        box-shadow: var(--shadow);
        padding: var(--card-padding);
        min-width: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .field {
        display: grid;
        gap: 10px;
        margin-bottom: 14px;
      }

      .field label {
        font-weight: 600;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .unit {
        font-size: 14px;
        color: #9aa3b2;
        font-weight: 600;
        letter-spacing: 0.04em;
      }

      .input-row {
        display: grid;
        grid-template-columns: 1fr 120px;
        gap: 12px;
        align-items: center;
      }

      input[type="range"] {
        width: 100%;
        accent-color: var(--brand);
        height: 4px;
        background: #e5e7eb;
        border-radius: 999px;
      }

      input[type="range"]::-webkit-slider-runnable-track {
        height: 4px;
        border-radius: 999px;
        background: transparent;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 1000%;
        background: var(--brand);
        border: none;
        margin-top: -6px;
        box-shadow: 0 4px 10px rgba(0, 208, 156, 0.35);
      }

      input[type="range"]::-moz-range-track {
        height: 4px;
        border-radius: 999px;
        background: transparent;
      }

      input[type="number"] {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-weight: 600;
        font-size: 13px;
        background: #fff;
        color: var(--ink);
      }

      input[type="text"] {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-weight: 600;
        font-size: 13px;
        background: #fff;
        color: var(--ink);
      }

      .results {
        display: grid;
        gap: 8px;
      }

      .result-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-weight: 600;
        padding: 10px 12px;
        background: #f8f9fb;
        border-radius: 10px;
      }

      .result-row span {
        color: #6b7280;
        font-weight: 500;
      }

      .chart {
        margin-top: 16px;
        display: grid;
        place-items: center;
        position: relative;
        height: 200px;
      }

      .ring {
        width: 180px;
        height: 180px;
        border-radius: 50%;
        background: conic-gradient(
          var(--brand) 0deg,
          var(--brand) 120deg,
          var(--accent) 120deg,
          var(--accent) 360deg
        );
        display: grid;
        place-items: center;
      }

      .ring::after {
        content: "";
        width: 110px;
        height: 110px;
        border-radius: 50%;
        background: #fff;
        box-shadow: inset 0 0 0 1px var(--border);
      }

      .ring-label {
        position: absolute;
        text-align: center;
        font-weight: 600;
        font-size: 14px;
        color: #1f2937;
      }

      .legend {
        display: flex;
        justify-content: center;
        gap: 18px;
        margin-top: 4px;
        font-size: 12px;
        color: #64748b;
        font-weight: 500;
      }

      .legend span::before {
        content: "";
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 8px;
        background: currentColor;
      }

      .legend .invested {
        color: var(--brand);
      }

      .legend .returns {
        color: var(--accent);
      }

      .foot {
        margin-top: 18px;
        color: #9aa3b2;
        font-size: 12px;
      }

      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 16px;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 16px;
        font-size: 13px;
        color: #6b7280;
      }

      .nav-links a {
        color: inherit;
        text-decoration: none;
      }

      .seo-section {
        display: flex;
        flex-direction: column;
        gap: var(--section-gap);
        margin-top: var(--section-gap);
      }

      .seo-card {
        background: var(--card);
        border: 1.5px solid var(--border);
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(13, 148, 136, 0.10);
        padding: 32px;
        line-height: 1.7;
      }

      .seo-card h2 {
        font-size: 1.45rem;
        color: var(--brand-2);
        font-weight: 700;
        margin: 0 0 16px 0;
      }

      .seo-card p {
        margin: 12px 0;
        color: var(--ink);
        font-size: 15px;
      }

      .seo-card ul, .seo-card ol {
        margin: 12px 0;
        padding-left: 20px;
      }

      .seo-card li {
        margin: 8px 0;
        color: var(--ink);
        font-size: 15px;
      }

      .seo-card a {
        color: var(--brand);
        text-decoration: none;
        font-weight: 600;
      }

      .seo-card a:hover {
        text-decoration: underline;
      }

      .seo-card table {
        width: 100%;
        border-collapse: collapse;
        margin: 16px 0;
        font-size: 14px;
      }

      .seo-card table th,
      .seo-card table td {
        border: 1px solid var(--border);
        padding: 10px 12px;
        text-align: left;
      }

      .seo-card table th {
        background: #f8f9fb;
        font-weight: 700;
        color: var(--ink);
      }

      @media (max-width: 900px) {
        .seo-card {
          padding: 20px;
        }
        .seo-card h2 {
          font-size: 1.2rem;
        }
      }

      @media (max-width: 700px) {
        .seo-card {
          padding: 14px 10px;
          border-radius: 12px;
        }
        .seo-card h2 {
          font-size: 1rem;
        }
        .seo-card p, .seo-card li {
          font-size: 13px;
        }
      }
    </style>
  </head>
  <body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="index.html" class="logo">ðŸ’° FinancialCalc.Ai</a>
      <button class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#investing">Investing</a></li>
          <li><a href="index.html#home-decisions">House Decisions</a></li>
          <li><a href="index.html#loans">Loans</a></li>
          <li><a href="index.html#retirement">Retirement</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </nav>
    </div>
  </header>

    <div class="wrap">
      

      <div class="hero">
        <div>
          <h1>Lumpsum Investment Calculator</h1>
          <p class="sub">Estimate future value, total gains, and compounding for a one-time investment.</p>
        </div>
        <div class="pill">Lumpsum Investment</div>
      </div>

      <section style="display: grid; grid-template-columns: 0.7fr 0.5fr 0.75fr; gap: var(--section-gap); margin-top: var(--section-gap);">
        <!-- Left: Input Section -->
        <div class="card main-card-min">
          <div class="field">
            <label>Investment Amount <span class="unit">INR</span></label>
            <div class="input-row">
              <input id="lumpsumRange" type="range" min="1000" max="10000000" step="1000" aria-label="Investment Amount in Rupees" />
              <input id="lumpsumInput" type="text" placeholder="0" aria-label="Investment Amount in Rupees" />
            </div>
          </div>
          <div class="field">
            <label>Investment period <span class="unit">Years</span></label>
            <div class="input-row">
              <input id="yearsRange" type="range" min="1" max="40" step="1" aria-label="Investment Period in Years" />
              <input id="yearsInput" type="number" min="1" max="40" step="1" aria-label="Investment Period in Years" />
            </div>
          </div>
          <div class="field" style="margin-bottom:0;">
            <label>Expected return (CAGR) <span class="unit">%</span></label>
            <div class="input-row">
              <input id="cagrRange" type="range" min="0" max="30" step="0.1" aria-label="Expected Return CAGR Percentage" />
              <input id="cagrInput" type="text" inputmode="decimal" placeholder="0.0" aria-label="Expected Return CAGR Percentage" />
            </div>
          </div>
        </div>

        <!-- Middle: Results Section -->
        <div class="card results-card-min">
          <h2 style="margin: 0 0 20px 0; font-size: 18px; font-weight: 600;">Results</h2>
          <div class="results">
            <div class="result-row">
              <span>Initial Investment</span>
              <strong id="investedValue">â‚¹ 0</strong>
            </div>
            <div class="result-row">
              <span>Total Gains</span>
              <strong id="gainValue">â‚¹ 0</strong>
            </div>
            <div class="result-row total">
              <span>Future Value</span>
              <strong id="fvValue">â‚¹ 0</strong>
            </div>
          </div>
          <div class="chart">
            <div class="ring" id="ring"></div>
            <div class="ring-label" id="ringLabel">Total</div>
          </div>
          <div class="legend">
            <span class="invested">Invested</span>
            <span class="returns">Gains</span>
          </div>
          <div class="foot">For illustration only. Actual returns vary by market.</div>
        </div>

        <!-- Right: Charts Section -->
        <div style="display: flex; flex-direction: column; gap: 20px; height: 100%;">
          <!-- Capital Growth Chart -->
          <div class="card" style="height: 100%; display: flex; flex-direction: column;">
            <h2 style="margin: 0 0 20px 0; font-size: 18px; font-weight: 600;">Capital Growth Over Time</h2>
            <div style="flex: 1; display: flex; align-items: center; justify-content: center; min-height: 0;">
              <canvas id="growthChart" style="max-height: 350px; max-width: 100%;"></canvas>
            </div>
            <div class="legend" style="margin-top: 16px;">
              <span style="color: #0d9488;">Corpus</span>
            </div>
          </div>
        </div>
      </section>

      <!-- SEO Content Section -->
      <section class="seo-section">
        <div class="seo-card">
          <h2>What Is a Lumpsum Investment?</h2>
          <p>A lumpsum investment is a one-time, upfront investment that grows over time through compounding. Unlike SIPs, there are no recurring contributions â€” outcomes depend on the initial amount, time horizon, and expected return.</p>
          <p>Lumpsum investing is common when you receive a large sum, such as a bonus, inheritance, maturity proceeds, or asset-sale proceeds.</p>
        </div>

        <div class="seo-card">
          <h2>What This Lumpsum Calculator Does</h2>
          <p>This Lumpsum Calculator estimates the future value of a one-time investment using three simple inputs:</p>
          <ul>
            <li>Investment amount</li>
            <li>Investment duration (years)</li>
            <li>Expected annual return (CAGR)</li>
          </ul>
          <p>Using these inputs, the calculator shows:</p>
          <ul>
            <li>Initial amount invested</li>
            <li>Total gains earned over time</li>
            <li>Final future value of the investment</li>
            <li>Year-wise capital growth through charts</li>
          </ul>
          <p>All calculations run instantly and locally in your browser.</p>
        </div>

        <div class="seo-card">
          <h2>How the Lumpsum Calculator Works</h2>
          <p>The calculator uses the compound interest formula, the foundation of long-term investing.</p>
          <p><strong>Compound Growth Logic:</strong> Your investment grows each year by the expected rate of return, and those returns also earn returns over time.</p>
          <p><strong>Formula used:</strong></p>
          <p style="background: #f8f9fb; padding: 12px; border-radius: 8px; font-family: monospace; font-weight: 600;">Future Value = Investment Amount Ã— (1 + CAGR) ^ Number of Years</p>
          <p>The longer you stay invested, the stronger the compounding effect becomes.</p>
        </div>

        <div class="seo-card">
          <h2>Why Use a Lumpsum Calculator?</h2>
          <p>This calculator is useful if you want to:</p>
          <ul>
            <li>Estimate the future value of a one-time investment</li>
            <li>Understand the power of long-term compounding</li>
            <li>Compare different return assumptions over time</li>
            <li>Plan goals like retirement, house purchase, or wealth creation</li>
            <li>Avoid manual calculations and guesswork</li>
          </ul>
          <p>It gives you a clear picture of how time and returns drive wealth creation.</p>
        </div>

        <div class="seo-card">
          <h2>Lumpsum Investment vs SIP</h2>
          <table>
            <tr>
              <th>Feature</th>
              <th>Lumpsum Investment</th>
              <th>SIP</th>
            </tr>
            <tr>
              <td>Investment Style</td>
              <td>One-time upfront</td>
              <td>Periodic contributions</td>
            </tr>
            <tr>
              <td>Market Timing Risk</td>
              <td>Higher</td>
              <td>Lower</td>
            </tr>
            <tr>
              <td>Discipline Required</td>
              <td>Lower</td>
              <td>Higher</td>
            </tr>
            <tr>
              <td>Best For</td>
              <td>Large surplus funds</td>
              <td>Regular income</td>
            </tr>
            <tr>
              <td>Volatility Impact</td>
              <td>Higher</td>
              <td>Smoothed via averaging</td>
            </tr>
          </table>
          <p>Many investors use a combination of lumpsum + SIP to balance timing risk and consistency.</p>
        </div>

        <div class="seo-card">
          <h2>Example: Lumpsum Investment Illustration (Indicative)</h2>
          <ul>
            <li><strong>Investment amount:</strong> â‚¹5,00,000</li>
            <li><strong>Investment period:</strong> 15 years</li>
            <li><strong>Expected return:</strong> 12% CAGR</li>
          </ul>
          <p>Over time, compounding can significantly increase the value of the original investment.</p>
          <p style="font-size: 13px; color: var(--muted);">Illustrations are indicative. Actual market returns vary.</p>
        </div>

        <div class="seo-card">
          <h2>Key Assumptions Used</h2>
          <p>To keep calculations transparent and simple, this calculator assumes:</p>
          <ul>
            <li>Returns are compounded annually</li>
            <li>CAGR remains constant over the investment period</li>
            <li>No taxes, exit loads, or fund expenses are deducted</li>
            <li>Results are illustrative and not guaranteed</li>
            <li>Real-world returns can vary with market conditions</li>
          </ul>
        </div>

        <div class="seo-card">
          <h2>Understanding the Charts</h2>
          <p><strong>Capital Growth Over Time:</strong> This chart shows how your investment grows year by year and how compounding accelerates in later years.</p>
          <p><strong>Invested vs Gains:</strong> Separates the original investment from the returns generated over time.</p>
          <p>These visuals make long-term compounding easier to understand.</p>
        </div>

        <div class="seo-card">
          <h2>Who Should Use a Lumpsum Calculator?</h2>
          <p>This calculator is ideal for:</p>
          <ul>
            <li>Investors with surplus funds</li>
            <li>People investing bonuses or windfalls</li>
            <li>Long-term investors planning retirement</li>
            <li>Anyone evaluating one-time investment opportunities</li>
            <li>Beginners learning how compounding works</li>
          </ul>
          <p>It is especially useful for long horizons (10+ years).</p>
        </div>

        <div class="seo-card">
          <h2>Related Calculators</h2>
          <ul>
            <li><a href="simple-sip-calculator.html">Simple SIP Calculator</a></li>
            <li><a href="step-up-sip-calculator.html">Step-Up SIP Calculator</a></li>
            <li><a href="investment-calculator.html">Investment Calculator (SIP + Lumpsum)</a></li>
            <li><a href="swp-calculator.html">SWP Calculator</a></li>
            <li><a href="fd-calculator.html">FD Calculator</a></li>
            <li><a href="emi-calculator.html">EMI Calculator</a></li>
            <li><a href="goal-based-calculator.html">Goal-Based Calculator</a></li>
          </ul>
        </div>

        <div class="seo-card">
          <h2>Final Note and Disclaimer</h2>
          <p>This calculator is for educational and planning purposes only and does not constitute financial advice. Results are illustrative and not guaranteed. Taxes, fees, charges, and market risks are not included in the calculations. Consult a qualified financial advisor before making investment decisions.</p>
        </div>
      </section>
    </div>

    <script>
      const fmt = new Intl.NumberFormat("en-IN", {
        style: "currency",
        currency: "INR",
        maximumFractionDigits: 0,
      });

      function formatNumberWithCommas(num) {
        const numStr = num.toString();
        
        // Reverse the string to work from right to left
        const reversed = numStr.split('').reverse();
        
        // Add commas: first 3 digits, then every 2 digits
        let result = '';
        for (let i = 0; i < reversed.length; i++) {
          if (i === 3 || (i > 3 && (i - 3) % 2 === 0)) {
            result += ',';
          }
          result += reversed[i];
        }
        
        // Reverse back
        return result.split('').reverse().join('');
      }

      const state = {
        lumpsum: 500000,
        years: 15,
        cagr: 12,
      };

      const els = {
        lumpsumRange: document.getElementById("lumpsumRange"),
        lumpsumInput: document.getElementById("lumpsumInput"),
        yearsRange: document.getElementById("yearsRange"),
        yearsInput: document.getElementById("yearsInput"),
        cagrRange: document.getElementById("cagrRange"),
        cagrInput: document.getElementById("cagrInput"),
        fvValue: document.getElementById("fvValue"),
        investedValue: document.getElementById("investedValue"),
        gainValue: document.getElementById("gainValue"),
      };

      function syncInput(rangeEl, inputEl, key) {
        let autoFormatTimer = null;
        
        const updateFromRange = (value) => {
          let num = parseFloat(value);
          if (isNaN(num)) return;
          state[key] = num;
          rangeEl.value = num;
          if (key === 'cagr') {
            inputEl.value = num.toFixed(1);
          } else if (key === 'lumpsum') {
            inputEl.value = formatNumberWithCommas(Math.round(num));
          } else {
            inputEl.value = num;
          }
          calculate();
        };

        const formatValue = (value) => {
          if (value === '') return;
          let num = parseFloat(value.replace(/,/g, ''));
          if (isNaN(num)) return;
          
          const min = parseFloat(rangeEl.min);
          const max = parseFloat(rangeEl.max);
          
          if (num < min) num = min;
          if (num > max) num = max;
          
          if (key === 'cagr') {
            num = Math.round(num * 10) / 10;
          }
          
          state[key] = num;
          if (key === 'cagr') {
            inputEl.value = num.toFixed(1);
          } else if (key === 'lumpsum') {
            inputEl.value = formatNumberWithCommas(Math.round(num));
          } else {
            inputEl.value = num;
          }
          rangeEl.value = num;
          
          calculate();
        };

        const updateFromInput = (value) => {
          if (value === '') return;
          let num = parseFloat(value.replace(/,/g, ''));
          if (isNaN(num)) return;
          
          state[key] = num;
          
          const min = parseFloat(rangeEl.min);
          const max = parseFloat(rangeEl.max);
          if (num < min) {
            rangeEl.value = min;
          } else if (num > max) {
            rangeEl.value = max;
          } else {
            rangeEl.value = num;
          }
          
          calculate();
          
          if (key === 'cagr') {
            clearTimeout(autoFormatTimer);
            autoFormatTimer = setTimeout(() => {
              formatValue(inputEl.value);
            }, 500);
          }
        };

        rangeEl.addEventListener("input", (e) => updateFromRange(e.target.value));
        inputEl.addEventListener("input", (e) => updateFromInput(e.target.value));
        inputEl.addEventListener("blur", (e) => {
          if (key === 'cagr') {
            clearTimeout(autoFormatTimer);
            formatValue(e.target.value);
          } else if (key === 'lumpsum') {
            formatValue(e.target.value);
          }
        });
      }

      function calculateLumpsum(principal, annualRate, years) {
        const fv = principal * Math.pow(1 + annualRate / 100, years);
        return fv;
      }

      function fmtCompact(value) {
        if (!Number.isFinite(value) || value <= 0) return "â‚¹ 0";
        const abs = Math.abs(value);
        if (abs >= 1e7) return "â‚¹ " + (value / 1e7).toFixed(2) + " Cr";
        if (abs >= 1e5) return "â‚¹ " + (value / 1e5).toFixed(2) + " L";
        return fmt.format(value);
      }

      function updateRingChart(invested, gains, fv) {
        const totalValue = invested + gains;
        const investedPct = totalValue > 0 ? Math.min(100, (invested / totalValue) * 100) : 0;
        const investedDeg = Math.round((investedPct / 100) * 360);
        const ring = document.getElementById("ring");
        const ringLabel = document.getElementById("ringLabel");
        if (ring && ringLabel) {
          ring.style.background = `conic-gradient(
            var(--brand) 0deg,
            var(--brand) ${investedDeg}deg,
            var(--accent) ${investedDeg}deg,
            var(--accent) 360deg
          )`;
          ringLabel.textContent = `Total ${fmtCompact(fv)}`;
        }
      }

      let growthChart = null;
      function updateGrowthChart() {
        const years = Math.max(1, Math.round(state.years));
        const labels = [];
        const corpusData = [];
        
        for (let y = 0; y <= years; y += 1) {
          labels.push(`Year ${y}`);
          const fv = calculateLumpsum(state.lumpsum, state.cagr, y);
          corpusData.push(Math.round(fv));
        }
        
        const ctx = document.getElementById("growthChart").getContext("2d");
        if (growthChart) {
          growthChart.data.labels = labels;
          growthChart.data.datasets[0].data = corpusData;
          growthChart.update();
        } else {
          growthChart = new Chart(ctx, {
            type: "line",
            data: {
              labels,
              datasets: [
                {
                  label: "Corpus",
                  data: corpusData,
                  borderColor: "#0d9488",
                  backgroundColor: "rgba(13, 148, 136, 0.15)",
                  fill: true,
                  tension: 0,
                  pointRadius: 3,
                  pointBackgroundColor: "#0d9488",
                  pointBorderColor: "#fff",
                  pointBorderWidth: 2,
                  pointHoverRadius: 5,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: { display: true, labels: { font: { size: 13 } } },
                tooltip: {
                  backgroundColor: "rgba(31, 36, 48, 0.9)",
                  padding: 12,
                  titleFont: { size: 14, weight: "600" },
                  bodyFont: { size: 13 },
                  callbacks: {
                    label: function (context) {
                      return fmtCompact(context.parsed.y);
                    },
                  },
                },
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    color: "rgba(230, 232, 240, 0.5)",
                  },
                  ticks: {
                    callback: function (value) {
                      return fmtCompact(value);
                    },
                  },
                },
                x: {
                  title: {
                    display: true,
                    text: "Years",
                  },
                  grid: {
                    display: false,
                  },
                },
              },
            },
          });
        }
      }

      function calculate() {
        const years = Math.max(1, Math.round(state.years));
        const fv = calculateLumpsum(state.lumpsum, state.cagr, years);
        const invested = state.lumpsum;
        const gains = Math.max(0, fv - invested);

        els.fvValue.textContent = fmtCompact(fv);
        els.investedValue.textContent = fmtCompact(invested);
        els.gainValue.textContent = fmtCompact(gains);

        updateRingChart(invested, gains, fv);
        updateGrowthChart();
      }

      // Pre-fill and display input values
      els.lumpsumRange.value = state.lumpsum;
      els.lumpsumInput.value = formatNumberWithCommas(state.lumpsum);
      els.yearsRange.value = state.years;
      els.yearsInput.value = state.years;
      els.cagrRange.value = state.cagr;
      els.cagrInput.value = state.cagr;

      syncInput(els.lumpsumRange, els.lumpsumInput, "lumpsum");
      syncInput(els.yearsRange, els.yearsInput, "years");
      syncInput(els.cagrRange, els.cagrInput, "cagr");

      calculate();
    </script>
  </body>
</html>
