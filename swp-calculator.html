<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SWP Calculator | Systematic Withdrawal Plan & Corpus Depletion Calculator</title>
    <meta name="description" content="Free SWP Calculator for India. Calculate systematic withdrawals, remaining corpus and withdrawal sustainability. See charts and detailed analysis." />
    <meta name="robots" content="index,follow,max-image-preview:large" />
    <link rel="canonical" href="https://financialcalc.ai/swp-calculator" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="shortcut icon" href="favicon.svg" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="SWP Calculator | Systematic Withdrawal Plan & Corpus Analysis" />
    <meta property="og:description" content="Calculate systematic withdrawals from your investment corpus. Plan retirement income with SWP withdrawal strategy." />
    <meta property="og:url" content="https://financialcalc.ai/swp-calculator" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is Systematic Withdrawal Plan (SWP)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "SWP is an investment withdrawal strategy where you withdraw a fixed amount periodically (monthly, quarterly, or yearly) from your investment corpus to meet regular financial needs while allowing remaining capital to grow."
          }
        },
        {
          "@type": "Question",
          "name": "How is SWP different from SIP?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "SIP (Systematic Investment Plan) is investing a fixed amount regularly. SWP (Systematic Withdrawal Plan) is withdrawing a fixed amount regularly. SWP is the reverse of SIP, typically used during retirement for regular income."
          }
        },
        {
          "@type": "Question",
          "name": "How long will my corpus last with SWP?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Corpus sustainability depends on initial investment amount, monthly withdrawal, investment returns (CAGR), and time period. If returns exceed withdrawal rate, corpus grows. If withdrawals exceed returns, corpus depletes over time."
          }
        },
        {
          "@type": "Question",
          "name": "Is SWP taxable in India?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, SWP attracts capital gains tax on the appreciation portion. Long-term capital gains (LTCG) on mutual funds get indexation benefits. This calculator does not include tax calculations."
          }
        },
        {
          "@type": "Question",
          "name": "What is the ideal SWP rate?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The 4% rule is popular: withdraw 4% of initial corpus annually. If your expected CAGR exceeds withdrawal rate, corpus may grow or stay stable. Conservative investors use 2-3% withdrawal rate."
          }
        },
        {
          "@type": "Question",
          "name": "Can I change my SWP amount?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, most mutual fund houses allow flexible SWP amounts. You can increase or decrease withdrawal amount anytime based on financial needs and market conditions."
          }
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://financialcalc.ai/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "SWP Calculator",
          "item": "https://financialcalc.ai/swp-calculator"
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "SWP Calculator",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "url": "https://financialcalc.ai/swp-calculator",
      "description": "Free SWP Calculator for India to calculate systematic withdrawals, remaining corpus and analyze withdrawal sustainability with compound growth visualization.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      }
    }
    </script>
    <style>
      /* Header Styling */
      header {
        background: var(--card, white);
        border-bottom: 1px solid var(--border, #d1e7e4);
        padding: 16px 0;
        position: sticky;
        top: 0;
        z-index: 100;
      }
      
      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 clamp(16px, 3vw, 40px);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .logo {
        font-weight: 700;
        font-size: 20px;
        text-decoration: none;
        color: var(--ink, #0f2f2e);
      }
      
      .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--ink, #0f2f2e);
      }
      
      nav {
        display: flex;
      }
      
      .nav-links {
        display: flex;
        gap: 32px;
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .nav-links a {
        text-decoration: none;
        color: var(--ink, #0f2f2e);
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s ease;
      }
      
      .nav-links a:hover {
        color: var(--brand, #0d9488);
      }
      
      @media (max-width: 700px) {
        .mobile-menu-toggle {
          display: block;
        }
        
        nav {
          display: none;
        }
        
        nav.active {
          display: flex;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          flex-direction: column;
          background: var(--card, white);
          border-bottom: 1px solid var(--border, #d1e7e4);
          padding: 16px;
        }
        
        .nav-links {
          flex-direction: column;
          gap: 12px;
        }
      }

      /* Ensure min-width for main cards and limit grid gap to 10px for wide screens */
      @media (min-width: 1000px) {
        section[style*="grid-template-columns"] {
          gap: 10px !important;
        }
        .main-card-min {
          min-width: 420px;
        }
        .results-card-min {
          min-width: 400px;
        }
      }
      :root {
        --section-gap: clamp(16px, 3vw, 40px);
        --card-padding: clamp(10px, 3vw, 32px);
        --section-padding: clamp(8px, 2vw, 24px);
      }
      /* Responsive layout improvements */
      @media (max-width: 1200px) {
        .wrap {
          padding: 24px 2vw 60px 2vw;
        }
        .grid,
        section[style*="grid-template-columns"] {
          grid-template-columns: 1fr !important;
        }
      }

      @media (max-width: 900px) {
        .wrap {
          padding: 12px 1vw 30px 1vw;
        }
        .grid,
        section[style*="grid-template-columns"] {
          grid-template-columns: 1fr !important;
        }
        .card, .seo-card {
          padding: 12px 6px !important;
        }
        .results, .chart, .legend, .foot {
          font-size: 13px;
        }
        h1, h2 {
          font-size: 1.1rem !important;
        }
        table {
          font-size: 12px;
        }
      }

      @media (max-width: 700px) {
        .wrap {
          padding: 4px 0 10px 0;
        }
        .hero {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }
        .card, .seo-card {
          padding: 8px 2px !important;
          border-radius: 10px;
        }
        .results, .chart, .legend, .foot {
          font-size: 11px;
        }
        h1, h2 {
          font-size: 1rem !important;
        }
        table {
          font-size: 10px;
        }
        section[style*="grid-template-columns"], .grid {
          grid-template-columns: 1fr !important;
        }
        section[style*="grid-template-columns"] > div,
        .grid > div {
          min-width: 0;
          width: 100% !important;
          max-width: 100vw;
        }
      }

      :root {
        --bg: #f0fdf9;
        --ink: #0f2f2e;
        --muted: #64748b;
        --brand: #0d9488;
        --brand-2: #0f766e;
        --accent: #5eead4;
        --card: #ffffff;
        --border: #d1e7e4;
        --shadow: 0 12px 32px rgba(13, 148, 136, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, sans-serif;
        color: var(--ink);
        background: var(--bg);
        min-height: 100vh;
      }

      .wrap {
        width: 100%;
        padding: var(--section-gap);
      }

      header {
        margin-bottom: 18px;
      }

      .logo {
        font-weight: 700;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--brand);
      }

      .hero {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: 20px;
        flex-wrap: wrap;
      }

      h1 {
        margin: 0;
        font-size: clamp(26px, 3.4vw, 34px);
        line-height: 1.2;
        font-weight: 600;
      }

      .sub {
        color: var(--muted);
        max-width: 560px;
        margin: 8px 0 0;
        font-size: 14px;
        line-height: 1.5;
      }

      .pill {
        background: #eafaf5;
        color: #129a79;
        padding: 4px 12px;
        border-radius: 999px;
        font-weight: 600;
        font-size: 12px;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        box-shadow: var(--shadow);
        padding: var(--card-padding);
        min-width: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .field {
        display: grid;
        gap: 10px;
        margin-bottom: 14px;
      }

      .field label {
        font-weight: 600;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .unit {
        font-size: 14px;
        color: #9aa3b2;
        font-weight: 600;
        letter-spacing: 0.04em;
      }

      .input-row {
        display: grid;
        grid-template-columns: 1fr 120px;
        gap: 12px;
        align-items: center;
      }

      input[type="range"] {
        width: 100%;
        accent-color: var(--brand);
        height: 4px;
        background: #e5e7eb;
        border-radius: 999px;
      }

      input[type="range"]::-webkit-slider-runnable-track {
        height: 4px;
        border-radius: 999px;
        background: transparent;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 1000%;
        background: var(--brand);
        border: none;
        margin-top: -6px;
        box-shadow: 0 4px 10px rgba(0, 208, 156, 0.35);
      }

      input[type="range"]::-moz-range-track {
        height: 4px;
        border-radius: 999px;
        background: transparent;
      }

      input[type="number"] {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-weight: 600;
        font-size: 13px;
        background: #fff;
        color: var(--ink);
      }

      input[type="text"] {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 8px;
        font-weight: 600;
        font-size: 13px;
        background: #fff;
        color: var(--ink);
      }

      .results {
        display: grid;
        gap: 8px;
      }

      .result-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-weight: 600;
        padding: 10px 12px;
        background: #f8f9fb;
        border-radius: 10px;
      }

      .result-row span {
        color: #6b7280;
        font-weight: 500;
      }



      .legend {
        display: flex;
        justify-content: center;
        gap: 18px;
        margin-top: 4px;
        font-size: 12px;
        color: #64748b;
        font-weight: 500;
      }

      .legend span::before {
        content: "";
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 8px;
        background: currentColor;
      }

      .legend .withdrawn {
        color: var(--brand);
      }

      .legend .remaining {
        color: var(--accent);
      }

      .foot {
        margin-top: 18px;
        color: #9aa3b2;
        font-size: 12px;
      }

      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 16px;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 16px;
        font-size: 13px;
        color: #6b7280;
      }

      .nav-links a {
        color: inherit;
        text-decoration: none;
      }

      /* Enhanced SEO Content Card Styles */
      .seo-section {
        width: 100%;
        margin: var(--section-gap) 0;
        display: flex;
        flex-direction: column;
        gap: var(--section-gap);
        padding: 0;
      }
      .seo-card {
        background: var(--card);
        border: 1.5px solid #d1e7e4;
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(13, 148, 136, 0.10);
        padding: var(--card-padding);
        line-height: 1.85;
        font-size: 1.08rem;
        color: #18313a;
        transition: box-shadow 0.2s;
        min-width: 0;
        width: 100%;
        box-sizing: border-box;
      }
      .seo-card h2 {
        font-size: 1.45rem;
        margin-bottom: 18px;
        color: var(--brand-2);
        font-weight: 700;
        letter-spacing: 0.01em;
      }
      .seo-card p, .seo-card ul, .seo-card ol {
        margin-bottom: 16px;
      }
      .seo-card ul, .seo-card ol {
        padding-left: 24px;
        margin-top: 0;
      }
      .seo-card li {
        margin-bottom: 10px;
        line-height: 1.7;
      }
      .seo-card strong {
        color: var(--brand);
      }
      .seo-card em {
        color: #64748b;
        font-style: italic;
      }
      .seo-card table {
        width: 100%;
        border-collapse: collapse;
        margin: 16px 0;
        font-size: 14px;
      }
      .seo-card table th,
      .seo-card table td {
        border: 1px solid var(--border);
        padding: 10px 12px;
        text-align: left;
      }
      .seo-card table th {
        background: #f8f9fb;
        font-weight: 700;
        color: var(--ink);
      }
      .seo-card:last-child {
        margin-bottom: 0;
      }

      @media (max-width: 900px) {
        .seo-card {
          padding: 20px;
        }
        .seo-card h2 {
          font-size: 1.2rem;
        }
      }

      @media (max-width: 700px) {
        .seo-card {
          padding: 14px 10px;
          border-radius: 12px;
        }
        .seo-card h2 {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="index.html" class="logo">ðŸ’° FinancialCalc.ai</a>
      <button class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#investing">Investing</a></li>
          <li><a href="index.html#home-decisions">House Decisions</a></li>
          <li><a href="index.html#loans">Loans</a></li>
          <li><a href="index.html#retirement">Retirement</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </nav>
    </div>
  </header>

    <div class="wrap">
      

      <div class="hero">
        <div>
          <h1>Systematic Withdrawal Plan (SWP) Calculator</h1>
          <p class="sub">Plan withdrawals and see the remaining corpus over time with a Systematic Withdrawal Plan.</p>
        </div>
        <div class="pill">Systematic Withdrawal Plan</div>
      </div>

      <section style="display: grid; grid-template-columns: 0.7fr 0.5fr 0.75fr; gap: var(--section-gap); margin-top: var(--section-gap);">
        <!-- Left: Input Section -->
        <div class="card main-card-min">
          <div class="field">
            <label>Initial Investment <span class="unit">INR</span></label>
            <div class="input-row">
              <input id="principalRange" type="range" min="100000" max="100000000" step="50000" aria-label="Initial Investment Amount in Rupees" />
              <input id="principalInput" type="text" placeholder="0" aria-label="Initial Investment Amount in Rupees" />
            </div>
          </div>
          <div class="field">
            <label>Monthly Withdrawal <span class="unit">INR</span></label>
            <div class="input-row">
              <input id="withdrawalRange" type="range" min="1000" max="500000" step="500" aria-label="Monthly Withdrawal Amount in Rupees" />
              <input id="withdrawalInput" type="text" placeholder="0" aria-label="Monthly Withdrawal Amount in Rupees" />
            </div>
          </div>
          <div class="field">
            <label>Time Period <span class="unit">Years</span></label>
            <div class="input-row">
              <input id="yearsRange" type="range" min="1" max="40" step="1" aria-label="Time Period in Years" />
              <input id="yearsInput" type="number" min="1" max="40" step="1" aria-label="Time Period in Years" />
            </div>
          </div>
          <div class="field">
            <label>Expected Return (CAGR) <span class="unit">% p.a.</span></label>
            <div class="input-row">
              <input id="cagrRange" type="range" min="0" max="30" step="0.1" aria-label="Expected Return CAGR Percentage Per Annum" />
              <input id="cagrInput" type="text" inputmode="decimal" placeholder="0.0" aria-label="Expected Return CAGR Percentage Per Annum" />
            </div>
          </div>
          <div class="field" style="margin-bottom:0;">
            <label>Expected Inflation <span class="unit">% p.a.</span></label>
            <div class="input-row">
              <input id="inflationRange" type="range" min="0" max="15" step="0.1" aria-label="Expected Inflation Percentage Per Annum" />
              <input id="inflationInput" type="text" inputmode="decimal" placeholder="0.0" aria-label="Expected Inflation Percentage Per Annum" />
            </div>
          </div>
        </div>

        <!-- Middle: Results Section -->
        <div class="card results-card-min">
          <h2 style="margin: 0 0 20px 0; font-size: 18px; font-weight: 600;">Results</h2>
          <div class="results">
            <div class="result-row">
              <span>Initial Investment</span>
              <strong id="investmentValue">â‚¹ 0</strong>
            </div>
            <div class="result-row">
              <span>Total Withdrawn</span>
              <strong id="withdrawnValue">â‚¹ 0</strong>
            </div>
            <div class="result-row">
              <span>Remaining Corpus</span>
              <strong id="remainingValue">â‚¹ 0</strong>
            </div>
          </div>
          <button id="aiSuggestionBtn" style="width: 100%; margin-top: 20px; padding: 14px 20px; background: linear-gradient(135deg, #0d9488 0%, #0f766e 100%); color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 15px; cursor: pointer; box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3); transition: all 0.2s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(13, 148, 136, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(13, 148, 136, 0.3)'">ðŸ¤– AI Suggestion</button>
          <div id="suggestionResult" style="margin-top: 16px; padding: 16px; border-radius: 8px; font-size: 14px; line-height: 1.6; display: none;"></div>
          <div class="foot" id="statusNote" style="margin-top: 12px;">For illustration only. Actual returns vary by market conditions.</div>
        </div>

        <!-- Right: Charts Section -->
        <div style="display: flex; flex-direction: column; gap: 20px; height: 100%;">
          <!-- SWP Growth Chart -->
          <div class="card" style="height: 100%; display: flex; flex-direction: column;">
            <h2 style="margin: 0 0 20px 0; font-size: 18px; font-weight: 600;">Corpus Over Time</h2>
            <div style="flex: 1; display: flex; align-items: center; justify-content: center; min-height: 0;">
              <canvas id="growthChart" style="max-height: 350px; max-width: 100%;"></canvas>
            </div>
            <div class="legend" style="margin-top: 16px;">
              <span style="color: #0d9488;">Remaining Corpus</span>
            </div>
          </div>
        </div>
      </section>

      <!-- SEO Content Section -->
      <section class="seo-section">
        <div class="seo-card">
          <h2>What is Systematic Withdrawal Plan (SWP)?</h2>
          <p>A Systematic Withdrawal Plan (SWP) is a withdrawal strategy where you take a fixed amount periodically from your investment corpus. Unlike lump-sum withdrawals, SWP allows regular withdrawals while the remaining corpus continues to compound.</p>
          <p>SWP is the opposite of SIP (Systematic Investment Plan). While SIP is about investing regularly, SWP focuses on withdrawing regularlyâ€”often used by retirees who need steady income.</p>
        </div>

        <div class="seo-card">
          <h2>What This SWP Calculator Does</h2>
          <p>This SWP Calculator estimates the sustainability of withdrawals from your corpus based on four inputs:</p>
          <ul>
            <li>Initial Investment Amount (your starting corpus)</li>
            <li>Monthly Withdrawal (fixed amount you withdraw each month)</li>
            <li>Time Period (duration in years for analysis)</li>
            <li>Expected Return (annual CAGR rate)</li>
          </ul>
          <p>Using these inputs, the calculator shows:</p>
          <ul>
            <li>Total amount withdrawn over the period</li>
            <li>Remaining corpus at the end of the period</li>
            <li>Total value (withdrawn + remaining)</li>
            <li>Whether corpus will last or when it depletes</li>
            <li>Year-wise corpus depletion through visual charts</li>
          </ul>
          <p>All calculations run instantly and locally in your browser.</p>
        </div>

        <div class="seo-card">
          <h2>How the SWP Calculator Works</h2>
          <p>The calculator uses the following logic to compute SWP returns:</p>
          <p style="background: #f8f9fb; padding: 12px; border-radius: 8px; font-family: monospace; font-weight: 600; overflow-x: auto;">Corpus (Month n) = [Corpus (Month n-1) Ã— (1 + CAGR/12)] - Monthly Withdrawal</p>
          <p>The calculation happens monthly: your remaining corpus grows by a monthly compounding rate derived from the annual CAGR, and then the withdrawal amount is deducted. This repeats for each month of the withdrawal period.</p>
          <p>If you set an expected inflation rate, your monthly withdrawal amount increases annually to maintain purchasing power. For example, if inflation is set to 5% annually, your Year 2 withdrawal will be 5% higher than Year 1, your Year 3 withdrawal 5% higher than Year 2, and so on.</p>
          <p><strong>Key insight:</strong> If your expected returns exceed the withdrawal rate, your corpus may grow or stabilize. If withdrawals exceed returns, the corpus depletes gradually.</p>
        </div>

        <div class="seo-card">
          <h2>Why Use an SWP Calculator?</h2>
          <p>An SWP Calculator is useful if you want to:</p>
          <ul>
            <li>Plan retirement income and withdrawal sustainability</li>
            <li>Test different withdrawal amounts and scenarios</li>
            <li>Understand how long your corpus will last</li>
            <li>Estimate remaining wealth after withdrawals</li>
            <li>Compare withdrawal strategies (fixed amount vs percentage)</li>
            <li>Make informed decisions about post-retirement finances</li>
            <li>Analyze impact of market returns on corpus depletion</li>
          </ul>
          <p>It gives you clarity on whether your current withdrawal plan is sustainable or needs adjustment.</p>
        </div>

        <div class="seo-card">
          <h2>Key Assumptions Used in This Calculator</h2>
          <p>To keep calculations transparent and simple, this SWP calculator assumes:</p>
          <ul>
            <li>Withdrawals are made at the beginning of each month</li>
            <li>Returns are compounded monthly at the specified CAGR rate</li>
            <li>CAGR remains constant throughout the withdrawal period</li>
            <li>If inflation is specified, monthly withdrawal increases annually by that rate</li>
            <li>No additional investments or deposits are made during withdrawal period</li>
            <li>No taxes, capital gains, or fund expenses are deducted from calculations</li>
            <li>Results are illustrative and not guaranteed</li>
            <li>Actual market returns vary and may differ significantly</li>
          </ul>
        </div>

        <div class="seo-card">
          <h2>Understanding the SWP Calculator Charts</h2>
          <p><strong>Corpus Over Time Chart:</strong> This line chart shows how your investment corpus changes month-by-month as you make withdrawals. It visualizes whether your corpus grows, stabilizes, or depletes over the withdrawal period. Declining line indicates corpus depletion.</p>
          <p><strong>Withdrawn vs Remaining Breakdown:</strong> The ring chart separates the total amount withdrawn from the remaining corpus, helping you see the composition of your wealth at the end of the period.</p>
          <p>These visuals help you understand the long-term sustainability of your withdrawal plan and whether adjustments are needed.</p>
        </div>

        <div class="seo-card">
          <h2>SWP vs SIP: Key Differences</h2>
          <table>
            <tr>
              <th>Feature</th>
              <th>SIP (Investing)</th>
              <th>SWP (Withdrawing)</th>
            </tr>
            <tr>
              <td>Purpose</td>
              <td>Regular investment building</td>
              <td>Regular income generation</td>
            </tr>
            <tr>
              <td>Frequency</td>
              <td>Monthly/regular deposits</td>
              <td>Monthly/regular withdrawals</td>
            </tr>
            <tr>
              <td>Ideal Phase</td>
              <td>Accumulation (earning years)</td>
              <td>Distribution (retirement)</td>
            </tr>
            <tr>
              <td>Corpus Direction</td>
              <td>Growing</td>
              <td>Depleting or stable</td>
            </tr>
            <tr>
              <td>Tax Treatment</td>
              <td>Capital gains on appreciation</td>
              <td>Capital gains on withdrawal</td>
            </tr>
          </table>
          <p>Many investors use both: SIP during earning years and SWP during retirement for sustainable income.</p>
        </div>

        <div class="seo-card">
          <h2>The 4% Rule for SWP</h2>
          <p><strong>The 4% Rule</strong> is a popular retirement planning guideline:</p>
          <ul>
            <li><strong>Withdraw 4% of initial corpus annually:</strong> If you have a â‚¹50 lakh corpus, withdraw â‚¹2 lakh/year or ~â‚¹16,667/month</li>
            <li><strong>Indexed to inflation:</strong> Many follow inflation-adjusted 4% rule where withdrawal increases annually with inflation</li>
            <li><strong>Historical basis:</strong> Research suggests 4% withdrawal rate allows corpus to last 30+ years with market returns averaging 8-10% annually</li>
            <li><strong>Conservative approach:</strong> Risk-averse investors use 2-3% withdrawal rate for additional safety margin</li>
          </ul>
          <p><em>Use this calculator to test the 4% rule with your specific numbers and expected returns.</em></p>
        </div>

        <div class="seo-card">
          <h2>Who Should Use an SWP Calculator?</h2>
          <p>This calculator is ideal for:</p>
          <ul>
            <li>Retirees planning post-retirement income</li>
            <li>Investors nearing or in retirement phase</li>
            <li>Anyone with large lump-sum corpus needing regular income</li>
            <li>People evaluating retirement portfolio sustainability</li>
            <li>Those comparing different withdrawal strategies</li>
            <li>Investors understanding corpus depletion scenarios</li>
            <li>Financial planners analyzing client retirement plans</li>
          </ul>
          <p>SWP is especially valuable for high net-worth individuals and retirees who want disciplined, tax-efficient withdrawal strategies.</p>
        </div>

        <div class="seo-card">
          <h2>Related Calculators</h2>
          <ul>
            <li><a href="simple-sip-calculator.html">Simple SIP Calculator</a></li>
            <li><a href="step-up-sip-calculator.html">Step-Up SIP Calculator</a></li>
            <li><a href="lumpsum-calculator.html">Lumpsum Calculator</a></li>
            <li><a href="investment-calculator.html">Investment Calculator (SIP + Lumpsum)</a></li>
            <li><a href="fd-calculator.html">FD Calculator</a></li>
            <li><a href="emi-calculator.html">EMI Calculator</a></li>
            <li><a href="goal-based-calculator.html">Goal-Based Calculator</a></li>
            <li><a href="nps-calculator.html">NPS Calculator</a></li>
          </ul>
        </div>

        <div class="seo-card">
          <h2>Final Note and Disclaimer</h2>
          <p>This calculator is for educational and planning purposes only and does not constitute financial advice. Results are illustrative and not guaranteed. Taxes, fees, charges, and market risks are not included in the calculations. Consult a qualified financial advisor before making withdrawal decisions.</p>
        </div>
      </section>
    </div>

    <script>
      const fmt = new Intl.NumberFormat("en-IN", {
        style: "currency",
        currency: "INR",
        maximumFractionDigits: 0,
      });

      function formatNumberWithCommas(num) {
        const numStr = num.toString();
        
        // Reverse the string to work from right to left
        const reversed = numStr.split('').reverse();
        
        // Add commas: first 3 digits, then every 2 digits
        let result = '';
        for (let i = 0; i < reversed.length; i++) {
          if (i === 3 || (i > 3 && (i - 3) % 2 === 0)) {
            result += ',';
          }
          result += reversed[i];
        }
        
        // Reverse back
        return result.split('').reverse().join('');
      }

      const state = {
        principal: 1000000,
        withdrawal: 10000,
        years: 20,
        cagr: 8.0,
        inflation: 5.0,
      };

      const els = {
        principalRange: document.getElementById("principalRange"),
        principalInput: document.getElementById("principalInput"),
        withdrawalRange: document.getElementById("withdrawalRange"),
        withdrawalInput: document.getElementById("withdrawalInput"),
        yearsRange: document.getElementById("yearsRange"),
        yearsInput: document.getElementById("yearsInput"),
        cagrRange: document.getElementById("cagrRange"),
        cagrInput: document.getElementById("cagrInput"),
        inflationRange: document.getElementById("inflationRange"),
        inflationInput: document.getElementById("inflationInput"),
        investmentValue: document.getElementById("investmentValue"),
        withdrawnValue: document.getElementById("withdrawnValue"),
        remainingValue: document.getElementById("remainingValue"),
        statusNote: document.getElementById("statusNote"),
        aiSuggestionBtn: document.getElementById("aiSuggestionBtn"),
        suggestionResult: document.getElementById("suggestionResult"),
      };

      function syncInput(rangeEl, inputEl, key) {
        let autoFormatTimer = null;
        
        const updateFromRange = (value) => {
          let num = parseFloat(value);
          if (isNaN(num)) return;
          state[key] = num;
          rangeEl.value = num;
          if (key === 'cagr') {
            inputEl.value = num.toFixed(1);
          } else if (key === 'principal' || key === 'withdrawal') {
            inputEl.value = formatNumberWithCommas(Math.round(num));
          } else {
            inputEl.value = num;
          }
          calculate();
        };

        const formatValue = (value) => {
          if (value === '') return;
          let num = parseFloat(value.replace(/,/g, ''));
          if (isNaN(num)) return;
          
          const min = parseFloat(rangeEl.min);
          const max = parseFloat(rangeEl.max);
          
          if (num < min) num = min;
          if (num > max) num = max;
          
          if (key === 'cagr') {
            num = Math.round(num * 10) / 10;
          }
          
          state[key] = num;
          if (key === 'cagr') {
            inputEl.value = num.toFixed(1);
          } else if (key === 'principal' || key === 'withdrawal') {
            inputEl.value = formatNumberWithCommas(Math.round(num));
          } else {
            inputEl.value = num;
          }
          rangeEl.value = num;
          
          calculate();
        };

        const updateFromInput = (value) => {
          if (value === '') return;
          let num = parseFloat(value.replace(/,/g, ''));
          if (isNaN(num)) return;
          
          state[key] = num;
          
          const min = parseFloat(rangeEl.min);
          const max = parseFloat(rangeEl.max);
          if (num < min) {
            rangeEl.value = min;
          } else if (num > max) {
            rangeEl.value = max;
          } else {
            rangeEl.value = num;
          }
          
          calculate();
          
          if (key === 'cagr') {
            clearTimeout(autoFormatTimer);
            autoFormatTimer = setTimeout(() => {
              formatValue(inputEl.value);
            }, 500);
          }
        };

        rangeEl.addEventListener("input", (e) => updateFromRange(e.target.value));
        inputEl.addEventListener("input", (e) => updateFromInput(e.target.value));
        inputEl.addEventListener("blur", (e) => {
          if (key === 'cagr' || key === 'inflation') {
            clearTimeout(autoFormatTimer);
            formatValue(e.target.value);
          } else if (key === 'principal' || key === 'withdrawal') {
            formatValue(e.target.value);
          }
        });
      }

      function simulateSWP(principal, withdrawal, annualRate, months, inflationRate = 0) {
        const r = ((1 + annualRate / 100) ** (1 / 12)) - 1;
        const inflationMonthly = inflationRate > 0 ? ((1 + inflationRate / 100) ** (1 / 12)) - 1 : 0;
        let corpus = Math.max(0, principal);
        let totalWithdrawn = 0;
        let monthsLasted = months;
        let currentWithdrawal = withdrawal;
        const series = [corpus];

        for (let m = 1; m <= months; m += 1) {
          corpus = corpus * (1 + r);
          
          // Increase withdrawal at the start of each new year
          if ((m - 1) % 12 === 0 && m > 1) {
            currentWithdrawal = currentWithdrawal * (1 + inflationMonthly * 12);
          }
          
          if (currentWithdrawal > corpus) {
            totalWithdrawn += corpus;
            corpus = 0;
            series.push(corpus);
            monthsLasted = m;
            for (let k = m + 1; k <= months; k += 1) {
              series.push(0);
            }
            break;
          }
          corpus -= currentWithdrawal;
          totalWithdrawn += currentWithdrawal;
          series.push(corpus);
        }

        return { remaining: corpus, totalWithdrawn, monthsLasted, series };
      }

      function fmtCompact(value) {
        if (!Number.isFinite(value) || value <= 0) return "â‚¹ 0";
        const abs = Math.abs(value);
        if (abs >= 1e7) return "â‚¹ " + (value / 1e7).toFixed(2) + " Cr";
        if (abs >= 1e5) return "â‚¹ " + (value / 1e5).toFixed(2) + " L";
        return fmt.format(value);
      }

      let growthChart = null;
      function updateGrowthChart(series, years) {
        const labels = [];
        const corpusData = [];
        const totalYears = Math.max(1, Math.round(years));

        for (let y = 0; y <= totalYears; y += 1) {
          labels.push(`Year ${y}`);
          const index = y * 12;
          corpusData.push(Math.round(series[Math.min(index, series.length - 1)] || 0));
        }

        const ctx = document.getElementById("growthChart").getContext("2d");
        if (growthChart) {
          growthChart.data.labels = labels;
          growthChart.data.datasets[0].data = corpusData;
          growthChart.update();
        } else {
          growthChart = new Chart(ctx, {
            type: "line",
            data: {
              labels,
              datasets: [
                {
                  label: "Remaining Corpus",
                  data: corpusData,
                  borderColor: "#0d9488",
                  backgroundColor: "rgba(13, 148, 136, 0.15)",
                  fill: true,
                  tension: 0,
                  pointRadius: 3,
                  pointBackgroundColor: "#0d9488",
                  pointBorderColor: "#fff",
                  pointBorderWidth: 2,
                  pointHoverRadius: 5,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: { display: true, labels: { font: { size: 13 } } },
                tooltip: {
                  backgroundColor: "rgba(31, 36, 48, 0.9)",
                  padding: 12,
                  titleFont: { size: 14, weight: "600" },
                  bodyFont: { size: 13 },
                  callbacks: {
                    label: function (context) {
                      return fmtCompact(context.parsed.y);
                    },
                  },
                },
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    color: "rgba(230, 232, 240, 0.5)",
                  },
                  ticks: {
                    callback: function (value) {
                      return fmtCompact(value);
                    },
                  },
                },
                x: {
                  title: {
                    display: true,
                    text: "Years",
                  },
                  grid: {
                    display: false,
                  },
                },
              },
            },
          });
        }
      }

      function calculate() {
        const months = Math.max(1, Math.round(state.years * 12));
        const result = simulateSWP(state.principal, state.withdrawal, state.cagr, months, state.inflation);

        const remaining = result.remaining;
        const withdrawn = result.totalWithdrawn;

        els.investmentValue.textContent = fmtCompact(state.principal);
        els.withdrawnValue.textContent = fmtCompact(withdrawn);
        els.remainingValue.textContent = fmtCompact(remaining);

        const lastedYears = Math.floor(result.monthsLasted / 12);
        const lastedMonths = result.monthsLasted % 12;
        if (result.monthsLasted < months) {
          els.statusNote.textContent = `Corpus depleted in ${lastedYears} years ${lastedMonths} months.`;
        } else {
          els.statusNote.textContent = "For illustration only. Actual returns vary by market conditions.";
        }

        // Hide AI suggestion when inputs change
        els.suggestionResult.style.display = 'none';

        updateGrowthChart(result.series, state.years);
      }

      function findRequiredCorpus(withdrawal, cagr, inflation) {
        const targetMonths = 40 * 12;
        let low = withdrawal * 12;
        let high = withdrawal * 12 * 100;
        let iterations = 0;
        const maxIterations = 50;

        while (low < high && iterations < maxIterations) {
          const mid = Math.floor((low + high) / 2);
          const result = simulateSWP(mid, withdrawal, cagr, targetMonths, inflation);
          
          if (result.monthsLasted >= targetMonths) {
            high = mid;
          } else {
            low = mid + 1;
          }
          iterations++;
        }

        return low;
      }

      els.aiSuggestionBtn.addEventListener('click', function() {
        const requiredCorpus = findRequiredCorpus(state.withdrawal, state.cagr, state.inflation);
        const resultDiv = els.suggestionResult;
        
        resultDiv.style.display = 'block';
        
        if (state.principal >= requiredCorpus) {
          resultDiv.style.background = 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)';
          resultDiv.style.border = '2px solid #10b981';
          resultDiv.style.color = '#065f46';
          resultDiv.innerHTML = `
            <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">ðŸŽ‰ Congratulations!</div>
            <div>Your current investment of <strong>${fmtCompact(state.principal)}</strong> is sufficient to sustain monthly withdrawals of <strong>${fmtCompact(state.withdrawal)}</strong> for at least 40 years at ${state.cagr}% CAGR with ${state.inflation}% annual inflation adjustment.</div>
            <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(16, 185, 129, 0.3); font-size: 13px;">âœ“ Your retirement corpus is well-positioned for long-term sustainability.</div>
          `;
        } else {
          const gap = requiredCorpus - state.principal;
          resultDiv.style.background = 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)';
          resultDiv.style.border = '2px solid #f59e0b';
          resultDiv.style.color = '#92400e';
          resultDiv.innerHTML = `
            <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">ðŸ’¡ Build Your Corpus</div>
            <div>To sustain monthly withdrawals of <strong>${fmtCompact(state.withdrawal)}</strong> for 40 years with ${state.cagr}% CAGR and ${state.inflation}% inflation, you need approximately <strong>${fmtCompact(requiredCorpus)}</strong>.</div>
            <div style="margin-top: 10px;">Current corpus: <strong>${fmtCompact(state.principal)}</strong><br>Gap: <strong>${fmtCompact(gap)}</strong></div>
            <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(245, 158, 11, 0.3);">ðŸ’ª <strong>Recommendation:</strong> Consider building your corpus with a <a href="step-up-sip-calculator.html" style="color: #0d9488; font-weight: 600; text-decoration: underline;">Step-Up SIP</a> to reach your retirement goal systematically.</div>
          `;
        }
      });

      // Pre-fill and display input values
      els.principalRange.value = state.principal;
      els.principalInput.value = formatNumberWithCommas(Math.round(state.principal));
      els.withdrawalRange.value = state.withdrawal;
      els.withdrawalInput.value = formatNumberWithCommas(Math.round(state.withdrawal));
      els.yearsRange.value = state.years;
      els.yearsInput.value = state.years;
      els.cagrRange.value = state.cagr;
      els.cagrInput.value = state.cagr.toFixed(1);
      els.inflationRange.value = state.inflation;
      els.inflationInput.value = state.inflation.toFixed(1);

      syncInput(els.principalRange, els.principalInput, "principal");
      syncInput(els.withdrawalRange, els.withdrawalInput, "withdrawal");
      syncInput(els.yearsRange, els.yearsInput, "years");
      syncInput(els.cagrRange, els.cagrInput, "cagr");
      syncInput(els.inflationRange, els.inflationInput, "inflation");

      calculate();

      // Mobile Menu Toggle
      const mobileToggle = document.querySelector('.mobile-menu-toggle');
      const nav = document.querySelector('nav');

      if (mobileToggle && nav) {
        mobileToggle.addEventListener('click', function(e) {
          e.stopPropagation();
          nav.classList.toggle('active');
        });
      }

      // Close mobile menu when clicking on a link
      const navLinks = document.querySelector('.nav-links');
      if (navLinks) {
        navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', function() {
            if (nav) nav.classList.remove('active');
          });
        });
      }

      // Close mobile menu when clicking outside
      document.addEventListener('click', function(e) {
        if (nav && !e.target.closest('nav') && !e.target.closest('.mobile-menu-toggle')) {
          nav.classList.remove('active');
        }
      });
    </script>
  </body>
</html>
